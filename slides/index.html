<!doctype html>
<html lang='en'>

  <head>
    <meta charset='utf-8'>

    <title> Nikolaus Mayer - Let’s Build a Raytracer</title>

    <meta name='description' content=''>
    <meta name='author' content='Nikolaus Mayer'>

    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui'>

    <link rel='stylesheet' href='css/reveal.css'>
    <link rel='stylesheet' href='css/theme/white.css' id='theme'>

    <!-- Code syntax highlighting -->
    <!--<link rel='stylesheet' href='lib/css/solarized_light.css'>-->

    <!-- Prism.js -->
    <link rel='stylesheet' href='css/prism.css'>


    <!--[if lt IE 9]>
      <script src='lib/js/html5shiv.js'></script>
    <![endif]-->

    <style>
      .reveal {
        //background-image: linear-gradient(135deg,
        //                                  rgba(255, 194, 51, 0.4) 20%,
        //                                  rgba(45, 135, 190, 0.4) 20%,
        //                                  rgba(45, 135, 190, 0.4) 40%,
        //                                  rgba(133, 85, 176, 0.4) 40%,
        //                                  rgba(133, 85, 176, 0.4) 60%,
        //                                  rgba(230, 122, 57, 0.4) 60%,
        //                                  rgba(230, 122, 57, 0.4) 80%,
        //                                  rgba(51, 183, 153, 0.4) 80%);
        //background-image: url('assets/img/wallpaper-crop.jpg');
        //background-size: cover;

        //padding: 2rem;
        //font-family: 'Roboto', sans-serif;
      }

      .reveal .slides {
        margin: 34px auto;
      }

      .reveal .footer-center {
        position: fixed;
        bottom: 1em;
        right: 0em;
        left: 0em;
        text-align: center;
        color: #999;
        font-size: 12pt;
      }  

      .reveal section img {
        border: none;
        box-shadow: none;
      }
      
      .reveal section {
        text-align: left;
      }
      .reveal section p {
        font-size: 120%;
      }

      h3.phantom, 
      div.phantom,
      div.phantom h4,
      pre.phantom,
      table.phantom,
      span.phantom{
        color: transparent;
      }

      span.my_highlight, div.my_highlight {
        background-color: yellow;
        padding-left:  5px;
        padding-right: 5px;
        margin-left:  -5px;
        margin-right: -5px;
      }

      @-webkit-keyframes angery {
        0% {
          -webkit-transform:translate(-5px,0px) rotate(0deg)
        }
        50% {
          -webkit-transform:translate(5px,0px) rotate(0deg)
        }
        100% {
          -webkit-transform:translate(0px,0px) rotate(-1deg)
        }
      }
      @-moz-keyframes angery {
        0% {
          -webkit-transform:translate(-5px,0px) rotate(0deg)
        }
        50% {
          -webkit-transform:translate(5px,0px) rotate(0deg)
        }
        100% {
          -webkit-transform:translate(0px,0px) rotate(-1deg)
        }
      }
      .angry {
        animation:angery 0.1s linear infinite;
        -webkit-animation:angery 0.1s linear infinite;
        -moz-animation:angery 0.1s linear infinite;
      }
      .angery {
        animation:angery 0.06s linear infinite;
        -webkit-animation:angery 0.06s linear infinite;
        -moz-animation:angery 0.06s linear infinite;
      }

      @-webkit-keyframes rotate {
        0% {
          -webkit-transform:rotate(0deg)
        }
        100% {
          -webkit-transform:rotate(360deg)
        }
      }
      .rotating {
        animation:rotate 2s linear infinite;
        -webkit-animation:rotate 2s linear infinite;
        -moz-animation:rotate 2s linear infinite;
      }

      .reveal section table tr td {
        text-align: center;
        border: none;
        padding: 0px;
      }


      /* grid-area: y0 / x0 / y1 / x1 */
      .slide-grid-container {
        display: grid;
        width: 100%;
        height: 100%;
        grid-template-columns: repeat(10, 10%);
        grid-template-rows: repeat(20, 5%);
      }

      .reveal .slides .gi {
        font-size: 48px;
        /*border: 1px solid black;*/
      }
      .gi-all {
        grid-area: 3 / 1 / 21 / 11;
      }
      .gi-left {
        grid-area: 3 / 1 / 21 / 6;
      }
      .gi-right {
        grid-area: 3 / 6 / 21 / 11;
      }

      .multilineheader {
        line-height: 1.2em;
      }
      .ml-l {
        grid-area: 1 / 1 / 3 / 8;
      }
      .ml-r {
        grid-area: 1 / 4 / 3 / 11;
        justify-self: end;
      }
      .ml-highlight, .ml-l > span {
        display: inline;
        background: #003592;
        color: #fff;
        padding: 0;
        box-decoration-break: clone;
        box-shadow:  .3em  .1em 0 #003592,
                     .3em -.1em 0 #003592,
                    -.2em  .1em 0 #003592,
                    -.2em -.1em 0 #003592;
      }
      .ml-highlight-sub, .ml-r > span {
        display: inline;
        background: #337eff;
        color: #fff;
        padding: 0;
        box-decoration-break: clone;
        box-shadow:  .3em  .1em 0 #337eff,
                     .3em -.1em 0 #337eff,
                    -.2em  .1em 0 #337eff,
                    -.2em -.1em 0 #337eff;
      }

      pre[class*="language-"]>code {
        font-size: 36px;
        font-weight: bold;
      }
      .reveal pre code {
        max-height: none;
      }

      @keyframes yayAnimation {
          0% { content: '\\(•◡•)/'; }
         50% { content: '\\(^o^)/'; }
        100% { content: '\\(•◡•)/'; }
      }
      .yay::after {
        animation: yayAnimation 2s linear infinite alternate;
        content: 'el';
      }

    </style>
  </head>

  <body>

    <div class='reveal'>
      <div class='footer-center'>
        Nikolaus Mayer — Let’s build a raytracer, from scratch
      </div>

      <div class='slides'>


        <!--<section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Before we start...
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              ...you will need these:
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <ul style='margin-bottom: 30px;'>
                <li> C++ compiler with C++11 support (<code>g++</code> &geq; v4.8) </li>
                <li> a graphical environment (to marvel at your results) </li>
                <li> an image viewer app (<code><u>feh</u></code>, <code>eog</code>, <code>display</code>, <code>geeqie</code> ...) </li>
              </ul>
              <br>
              <br>
              <br>
              <br>
              <ul>
                <li> these slides (CC-BY-NC) and all code (MIT) will be here: </li><br>
                <code><a href='https://github.com/nikolausmayer/raytracing-from-scratch'><b>github.com/nikolausmayer</b>/raytracing-from-scratch</a></code>
              </ul>
            </div>

          </div>
        </section>-->


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <p> <span class='ml-highlight' style='font-size: 140%;'>Nikolaus Mayer</span> </p>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Let’s&nbsp;&nbsp;build&nbsp;&nbsp;a&nbsp;&nbsp;Raytracer
            </span></h1>
            <br/>
            <br/>
            <br/>
            <br/>
            <p> 
              <span>Sommercampus 2019</span><br/>
              <span>Technische Fakult&auml;t</span><br/>
              <span>Universit&auml;t Freiburg</span>
              </p>
          </div>
        </section>


        <section>
          <h2 class='multilineheader'><span class='ml-highlight'>
            Why this course?
          </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> Fact: Computer graphics are awesome </li>
                <li class='fragment'> Fact: OpenGL is a mess (of user friendliness) </li>
                <li class='fragment'> Fact: Blender is mostly a black box </li>
                <br>
                <li class='fragment'> my own opinion: you can never fully understand something which you have never made yourself </li>
                <br>
                <li class='fragment'> consequence: one should develop one's own renderer </li>
                <br>
                <li class='fragment'> this course wants to be the next best thing </li>
              </ul>
            </div>
        </section>


        <section>
          <h2 class='multilineheader'><span class='ml-highlight'>
            Overview 
          </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li>    Introduction </li>
                <li> 0. An empty image </li>
                <li> 1. Heaven and earth </li>
                <li> 2. Triangles </li>
                <li> 3. Raytracing </li>
                <li> 4. Ray energy </li>
                <li> 5. Spheres </li>
                <li> 6. Light </li>
                <li> 7. Shadows </li>
                <li> 8. Random stuff </li>
                <li> 9. Textures </li>
                <li> █. Bonus: ████████ </li>
              </ul>
            </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              "Computer graphics"
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Generating images from model knowledge </li>
              </ul>
              <table width="100%">
                <tr>
                  <td width="50%" class="fragment">
                    <video data-autoplay loop no-controls style='width: 100%;'>
                      <source src='assets/video/suzanne/wireframe2.ogv' type='video/ogg'>
                    </video>
                  </td>
                  <td width="50%" class="fragment">
                    <video data-autoplay loop no-controls style='width: 100%;'>
                      <source src='assets/video/suzanne/hemilight2.ogv' type='video/ogg'>
                    </video>
                  </td>
                </tr>
                <tr>
                  <td width="50%" class="fragment">
                    <video data-autoplay loop no-controls style='width: 100%;'>
                      <source src='assets/video/suzanne/sun2.ogv' type='video/ogg'>
                    </video>
                  </td>
                  <td width="50%" class="fragment">
                    <video data-autoplay loop no-controls style='width: 100%;'>
                      <source src='assets/video/suzanne/final2.ogv' type='video/ogg'>
                    </video>
                  </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Raytracing vs Rasterization
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Rasterization: step-by-step pipeline, whole image is processed in each step </li>
              </ul>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/color.png'/>
                  </td>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/diffuse.png'/>
                  </td>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/specular.png'/>
                  </td>
                </tr>
                <tr>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/depth.png'/>
                  </td>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/ao.png'/>
                  </td>
                  <td width="32%" class="fragment">
                    <img src='assets/img/suzanne/combined.png'/>
                  </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Raytracing vs Rasterization
            </span></h2>

            <div class='gi gi-all'>
              <ul style='margin-bottom: 30px;'>
                <li> Raytracing: pixel-by-pixel, each pixel complete on its own </li>
              </ul>
              <div style='width: 100%; text-align: center;'>
                <video data-autoplay loop no-controls style='width: 50%;'>
                  <source src='assets/video/line-by-line.ogv' type='video/ogg'>
                </video>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Raytracing vs Rasterization
            </span></h2>

            <div class='gi gi-all'>
              <ul style='margin-bottom: 30px;'>
                <li class='fragment'> Rasterization: </li>
                  <ul style='margin-bottom: 30px;'>
                    <li class='fragment'>ultra-optimized hardware (GPUs)</li>
                    <li class='fragment'>ultra-optimized engines and tools (OpenGL)</li>
                    <li class='fragment'>(thanks to that) fast</li>
                    <li class='fragment'>many effects need tricks or post-processing</li>
                  </ul>

                <li class='fragment'> Raytracing: </li>
                  <ul style='margin-bottom: 30px;'>
                    <li class='fragment'>reflections, depth-of-field etc. are "all inclusive"</li>
                    <li class='fragment'>can be physically correct</li>
                    <li class='fragment'>is used for simulations</li>
                    <li class='fragment'>(also special hardware (Nvidia RTX, AMD RDNA(?)))</li>
                  </ul>

                <li class='fragment'> both are active research areas! </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Recommended reading
            </span></h2>

            <div class='gi gi-all'>
              <ul style='margin-bottom: 30px;'>
                <li class='fragment'> "Graphics Study" blog posts by Adrian Courrèges </li>
                <li class='fragment'> "Physically Based Rendering" book by Pharr/Humphreys </li>
                <li class='fragment'> "Graphics Gems" book series </li>
                <li class='fragment'> www.scratchapixel.com </li>
                <li class='fragment'> Conferences: SIGGRAPH, SIGGRAPH Asia, EuroGraphics </li>
                <li class='fragment'> and: GDC (developer conference with talks on e.g. engines) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Introduction
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Course structure
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> split into individual "levels", each with </li>
                  <ul>
                    <li> motivation </li>
                    <li> content (with theory) </li>
                    <li> coding session </li>
                    <li> inspirational ideas </li>
                  </ul>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 0 — An empty image
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              What is an image?
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> an ordered collection of pixels </li>
              </ul>

              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td class='fragment' width="25%">
                    <img src='assets/img/levels/level-8.png'/>
                  </td>
                  <td class='fragment' width="25%">
                    <img src='assets/img/levels/level-8-zoom1.png'/>
                  </td>
                  <td class='fragment' width="25%">
                    <img src='assets/img/levels/level-8-zoom2.png'/>
                  </td>
                  <td class='fragment' width="25%">
                    <img src='assets/img/levels/level-8-zoom2-annot.png'/>
                  </td>
                </tr>
              </table>

              <ul style='margin-top: 10px;'>
                <li class='fragment'> pixel are triples (<u>R</u>ed-<u>G</u>reen-<u>B</u>lue) </li>              
                <li class='fragment'> integer numbers 0–255 per color </li>              
                <li class='fragment'> 16.7 million colors!!!1 </li>              
              </ul>
            </div>
            <div class='fragment' data-index=7 style='grid-area: 12/7/21/11;'>
              <img src='assets/img/external/colorcube.png'/>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
            The PPM image format
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> "Portable PixMap" </li>
                <li class='fragment'> the simplest possible format </li>
                <li class='fragment'> (no compression, very inefficient) </li>
                <li class='fragment'> 3 colors (RGB) per pixel </li>
                <li class='fragment'> Header: <code>P3 WIDTH HEIGHT MAXIMUM</code> </li>
                <li class='fragment'> in our case: <code>P3 512 512 255</code> </li>
                <li class='fragment'> <code>P3</code> means "ASCII-PPM" → human readable \Ü/
                <li class='fragment'> <code>P3 512 512 255 255 0 0 255 0 0 255 0 0 [...]</code> </li>
                <li class='fragment'> <code>P<u>6</u> 512 512 255 ÿ^@^@ÿ^@^@ÿ^@^@[...]</code>  (binary PPM) </li>
                <li class='fragment'> left-to-right, top-to-bottom, separation by spaces </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
            The code basis
            </span></h2>

            <div class='gi gi-all fragment'>

              <pre class='language-cpp'><code class='language-cpp'>std::ofstream outfile("img.ppm");
outfile << "P3 512 512 255";

for(int y = 0; y < 512; ++y) {    /// Rows
  for(int x = 0; x < 512; ++x) {  /// Columns
    outfile << " " << 255 
            << " " << 0 
            << " " << 0;
  }
}</code></pre>
              <ul>
                <li class='fragment'> 512 · 512 = <b>262144 red pixels </b> </li>
                <li class='fragment'> (we could write&nbsp; <code>&lt;&lt; " 255 0 0"</code> &nbsp;instead) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Dummy image</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-0.png'>
                <br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #0 An empty image
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Loop conditions (&lt; / &leq;) </li>
                <li> file size: <code><b>$ du --bytes img.ppm</b></code> </li>
                  <ul>
                    <li> "<code>P3 512 512 255</code>" = 14 bytes header </li>
                    <li> "<code> 255 0 0</code>" = 8 bytes per pixel (ASCII: 1 byte/character) </li>
                    <li> → 14 + 8 · (512 · 512) = <u>2097166</u> bytes </li<
                  </ul>
                <li> file contents: <code><b>$ head -c 100 img.ppm</b></code> </li>
                <pre class='language-cpp'><code class='language-cpp'>P3 512 512 255 255 0 0 255 0 0 255 0 0 ... </code></pre>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 1 — Heaven and earth
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              What is a camera?
            </span></h2>

            <div class='gi gi-left'>
              <ul>
                <li class='fragment'> assumption: <i>pinhole cam</i> </li>
                <li class='fragment'> (no lens effects) </li>
                <li class='fragment'> attributes: </li>
                  <ul>
                    <li class='fragment'> projection center </li>
                    <li class='fragment'> viewing direction </li>
                    <li class='fragment'> "focal length" (=zoom) </li>
                    <li class='fragment'> image width/height </li>
                  </ul>
                <li class='fragment'> assumption: 4×4 pixels </li>
              </ul>
            </div>
            <div class='gi gi-right fragment' data-index=1>
              <br>
              <img src='assets/img/blender-camera/1.png'>
            </div>
            <div class='gi gi-right fragment current-visible'>
              <br>
              <img src='assets/img/blender-camera/cam-view.png'>
            </div>
            <div class='gi gi-right fragment'>
              <br>
              <img src='assets/img/blender-camera/1.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              World coordinate system
            </span></h2>

            <div class='gi gi-left'>
              <ul>
                <li class='fragment'> Z axis in viewing direction </li>
                <li class='fragment'> together with X/Y: coordinate base </li>
                <li class='fragment'> here: left-hand system </li>
                <li class='fragment'> X RIGHTWARDS </li>
                <li class='fragment'> Y UPWARDS </li>
                <li class='fragment'> Z FORWARDS </li>
                <br>
                <li class='fragment'> the system does not matter, but </li>
                <li class='fragment'> <i>one has to make a choice</i> </li>
                <li class='fragment'> <i>and then be consistent</i> </li>
              </ul>
            </div>
            <div class='gi gi-right'>
              <br>
              <img src='assets/img/blender-camera/2.png'>
            </div>
            <div class='gi gi-right fragment' data-index=3>
              <br>
              <img src='assets/img/blender-camera/3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Making rays
            </span></h2>

            <div class='gi gi-left'>
              <ul>
                <li> Z axis in viewing direction </li>
                <li> together with X/Y: coordinate base </li>
                <li> here: left-hand system </li>
                <li class='fragment'> <b>ray = 3D vector</b> </li>
                <li class='fragment'> <b>ray = vector chain</b> </li>
                <li class='fragment'> ratio of lengths X/Y to Z determines zoom </li>
                <li class='fragment'> always normalize all rays to length 1.0! </li>
              </ul>
            </div>
            <div class='gi gi-right'>
              <br>
              <img src='assets/img/blender-camera/3.png'>
            </div>
            <div class='gi gi-right fragment' data-index=2>
              <br>
              <img src='assets/img/blender-camera/4.png'>
            </div>
            <div class='gi gi-right fragment' data-index=4>
              <br>
              <img src='assets/img/blender-camera/5.png'>
            </div>
            <div class='gi gi-right fragment' data-index=5>
              <br>
              <img src='assets/img/blender-camera/6.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Vector class</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Pixel offset
            </span></h2>

            <div class='gi gi-left'>
              <ul>
                <li class='fragment'> two conditions </li>
                  <ul>
                    <li class='fragment'> 1. rays go through pixel centers </li>
                    <li class='fragment'> 2. (0,0) is in the image center </li>
                  </ul>
                  <li class='fragment'> here: width, height <i>even</i> </li>
                  <li class='fragment'> (0,2,4,... and not 1,3,5,...)</li>
                  <li class='fragment'> → integer coordinates are <i>wrong</i>! </li>
                  <li class='fragment'> pixel centers (0.5,0.5), (0.5,1.5), ...</li>
              </ul>
            </div>
            <div class='gi gi-right'>
              <img src='assets/img/pixeloffset/offset--1.png'>
            </div>
            <div class='gi gi-right fragment' data-index=3>
              <img src='assets/img/pixeloffset/offset-0.png'>
            </div>
            <div class='gi gi-right fragment' data-index=4>
              <img src='assets/img/pixeloffset/offset-1.png'>
            </div>
            <div class='gi gi-right fragment' data-index=5>
              <img src='assets/img/pixeloffset/offset-0.png'>
            </div>
            <div class='gi gi-right fragment' data-index=7>
              <img src='assets/img/pixeloffset/offset-2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Pixel offset
            </span></h2>

            <div class='gi gi-all'>
              <span class='fragment'> up to now: </span>
              <pre class='language-cpp fragment'><code class='language-cpp'>
for(int y = 0; y < 512; ++y) {    /// Rows
  for(int x = 0; x < 512; ++x) {  /// Columns
    ...
</code></pre>
              <br>
              <span class='fragment'> from now on: pixel centers with correct coordinates </span>
              <pre class='language-cpp fragment'><code class='language-cpp'>
for(int y = 256; y >= -255; --y) {    /// Rows
  for(int x = -255; x <= 256; ++x) {  /// Columns
    ...
    ...(x - 0.5)...
    ...(y - 0.5)...
    ...
</code></pre>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Ray construction</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Above and below
            </span></h2>

            <div class='gi gi-left'>
              <ul>
                <li class='fragment'> camera is "level" </li>
                <li class='fragment'> (for more we would need rotation matrices) </li>
                <li class='fragment'> infinite ground plane, Y=0 </li>
                <li class='fragment'> camera not at Y=0! </li>
                <li class='fragment'> ray hits ground if </li>
                  <ul>
                    <li class='fragment'> ... ray.y &lt; 0 ! </li>
                  </ul>
                <li class='fragment'> ray hits sky if </li>
                  <ul>
                    <li class='fragment'> ... ray.y &geq; 0 ! </li>
                  </ul>
              </ul>
            </div>
            <div class='gi gi-right'>
              <img src='assets/img/blender-camera/6.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Ground and sky </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-0.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1a.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Coordinate system vectors </li>
                <li> <code>Vector::operator+</code>, <code>Vector::operator*</code> </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Heaven 2.0
            </span></h2>

            <div class='gi' style='grid-area: 3 / 1 / 21 / 9;'>
              <ul>
                <li class='fragment'> old sky color: constant </li>
                <li class='fragment'> new sky color: depending on ray angle </li>
                  <ul>
                    <li class='fragment'> horizontal: blue-ish </li>
                    <li class='fragment'> vertical: black </li>
                    <li class='fragment'> (totally up to you!) </li>
                  </ul>
                  <li class='fragment'> horizontal: ray.y = 0, vertical: ray.y = 1 </li>
                  <li class='fragment'> interpolation between color and black:<br>
                       <code>[color] * std::pow(1-ray_direction.y,2)</code> </li>
              </ul>
            </div>
            <div class='gi fragment' data-index=3
                 style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/levels/sky2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Heaven 2.0 </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1a.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1ab.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Earth 2.0
            </span></h2>

            <div class='gi' style='grid-area: 3 / 1 / 21 / 9;'>
              <ul>
                <li class='fragment'> just red is boring </li>
                <li class='fragment'> no sense of space </li>
                <li class='fragment'> new ground: checkerboard </li>
                <li class='fragment'> ground coordinate determines color </li>
                <li class='fragment'> → we need the "observed" point </li>
                <li class='fragment'> → intersection ray-ground </li>
                <li class='fragment'> <code>Y = 0 = camera.y + distance · ray.y</code> </li>
                <li class='fragment'> one equation, one unknown → \Ü/ </li>
                <li class='fragment'> <code>distance := -camera.y / ray.y </code> </li>
              </ul>
            </div>
            <div class='gi fragment' data-index=4
                 style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/ground/ground2-0.png'>
            </div>
            <div class='gi fragment' data-index=6
                 style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/ground/ground2-1.png'>
            </div>
            <div class='gi fragment' data-index=7
                 style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/ground/ground2-2.png'>
            </div>
            <div class='gi fragment' data-index=8
                 style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/ground/ground2-3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Earth 2.0
            </span></h2>

            <div class='gi' style='grid-area: 3 / 1 / 21 / 9;'>
              <ul>
                <li class='fragment'> <code>distance := -camera.y / ray.y </code> </li>
                <li class='fragment'> <code>X := camera.x + distance · ray.x </code> </li>
                <li class='fragment'> <code>Z := camera.z + distance · ray.z </code> </li>
                <li class='fragment'> checkerboard: X and Z both odd/even </li>
              </ul>
            </div>
            <div class='gi' style='grid-area: 3 / 9 / 21 / 11;'>
              <img height='80%' src='assets/img/levels/ground2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Earth 2.0 </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1ab.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1b.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #1 Heaven and earth
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> coordinate system vectors </li>
                <li> ray length normalization </li>
                <li> <code>std::abs</code> on negative numbers! </li>
                <li> <code>(int)std::abs(std::floor(...))%2</code> </li>
                <li> ray hits ground if (and only if) <code>ray.y < 0</code> </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 2 — Triangles
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Why triangles
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> the base of most polygons </li>
                <li class='fragment'> (polygons are <i>the</i> base of computer graphics) </li>
                <li class='fragment'> easy to compute </li>
                <li class='fragment'> besides... </li>
              </ul>
            </div>
            <div class='fragment' 
                 style='grid-area: 8 / 1 / 21 / 11; text-align: center;'>
              <img src='assets/img/dollar0.png'>
            </div>
            <div class='fragment' 
                 style='grid-area: 8 / 1 / 21 / 6; text-align: center;'>
              <img src='assets/img/dollar1.png'>
            </div>
            <div class='fragment' 
                 style='grid-area: 8 / 6 / 21 / 11; text-align: center;'>
              <img src='assets/img/dollar2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              What is a triangle?
            </span></h2>

            <div class='gi' style='grid-area: 3 / 1 / 21 / 9;'>
              <ul>
                <li class='fragment'> defined by 3 corners/vertices
                     $$P_0, P_1, P_2$$ 
                </li>
                <li class='fragment'> spanned by 2 vectors $\mathbf{u}$, $\mathbf{v}$:
                     $$\mathbf{u} = P_1 - P_0$$ $$\mathbf{v} = P_2 - P_0$$ 
                </li>
                <li class='fragment'> triangle area: points $\{p_i\}$
                     $$p_i = P_0 + u\cdot\mathbf{u} + v\cdot\mathbf{v}$$
                     for which it holds that
                     $$0 &leq; u,v &leq; 1$$
                     $$u + v &leq; 1$$ 
                </li>
                <li class='fragment'> (equivalent form:)
                     $$p_i = (1-u-v)\cdot P_0 + u\cdot P_1 + v\cdot P_2$$
                </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-0.png'>
            </div>
            <div class='gi fragment' data-index=2
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-1.png'>
            </div>
            <div class='gi fragment' data-index=4
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-2.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Intersection ray/triangle
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> camera center $\mathbf{O}$, ray direction $\mathbf{R}$, distance $d$ </li>
                <li class='fragment'> $P_{0} + u\cdot\mathbf{u} + v\cdot\mathbf{v} = \mathbf{O} + d\cdot\mathbf{R}$ </li>
                <li class='fragment'> → linear equation system
                $$P_{0,x} + u\cdot\mathbf{u}_x + v\cdot\mathbf{v}_x = \mathbf{O}_x + d\cdot\mathbf{R}_x$$
                $$P_{0,y} + u\cdot\mathbf{u}_y + v\cdot\mathbf{v}_y = \mathbf{O}_y + d\cdot\mathbf{R}_y$$
                $$P_{0,z} + u\cdot\mathbf{u}_z + v\cdot\mathbf{v}_z = \mathbf{O}_z + d\cdot\mathbf{R}_z$$
                </li>
                <li class='fragment'> rearranged:
                $$0 = P_{0,x} + u\cdot\mathbf{u}_x + v\cdot\mathbf{v}_x - \mathbf{O}_x - d\cdot\mathbf{R}_x$$
                $$0 = P_{0,y} + u\cdot\mathbf{u}_y + v\cdot\mathbf{v}_y - \mathbf{O}_y - d\cdot\mathbf{R}_y$$
                $$0 = P_{0,z} + u\cdot\mathbf{u}_z + v\cdot\mathbf{v}_z - \mathbf{O}_z - d\cdot\mathbf{R}_z$$
                </li>
                <li class='fragment'> 3 equations, 3 unknowns → \Ü/ </li>
                <li class='fragment'> but so much work... ಥ_ಥ </li>
              </ul>
            </div>

            <div class='gi'
                 style='grid-area: 4 / 9 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-3.png'>
            </div>

        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Lazy solving
            </span></h2>

            <div class='gi gi-all'>
              <span class='fragment'> <code>SymPy</code> can do symbolic math </span>

              <pre class='language-python fragment'><code class='language-python' style='font-size: 32px;'>from sympy import var, solve
pox,poy,poz,ux,uy,uz,vx,vy,vz,ox,oy,oz,rx,ry,rz,u,v,d = 
  var('pox poy poz ux uy uz vx vy vz ox oy oz rx ry rz u v d')
E1 = pox + u*ux + v*vx - ox - d*rx
E2 = poy + u*uy + v*vy - oy - d*ry
E3 = poz + u*uz + v*vz - oz - d*rz
solutions = solve([E1,E2,E3],[u,v,d])
print(solutions)

{u: [...], v: [...], d: [...]}</code></pre>

              <span class='fragment'> not pretty but correct¯\_(ツ)_/¯ </span>
            </div>

        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Normal vectors
            </span></h2>

            <div class='gi' style='grid-area: 3 / 1 / 21 / 8;'>
              <ul>
                <li class='fragment'> we want to distinguish front and back </li>
                <li class='fragment'> → we need the normal vector $\mathbf{n}$ </li>
                <li class='fragment'> (also later for other things) </li>
                <li class='fragment'> cross product and left-hand rule:
                     $$\mathbf{n} := \mathbf{v} \times \mathbf{u}$$ </li>
                <li class='fragment'> consequence: vertex order matters!</li>
                <li class='fragment'> → our triangles are defined <b>CCW</b> <br>
                     (<b>c</b>ounter<b>c</b>lock<b>w</b>ise) </li>
                <li class='fragment'> (looking at it from its "front") </li>
              </ul>
            </div>

            <div class='gi fragment current-visible' data-index=5
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-3.png'>
            </div>
            <div class='gi fragment current-visible' data-index=6
                 style='grid-area: 4 / 7 / 21 / 11; background: #fff; display: block;'>
              $$\begin{pmatrix}\mathbf{a}_x \\ \mathbf{a}_y \\ \mathbf{a}_z\end{pmatrix} \times
              \begin{pmatrix}\mathbf{b}_x \\ \mathbf{b}_y \\ \mathbf{b}_z \end{pmatrix}$$
              $$=$$
              $$\begin{pmatrix} \mathbf{a}_y\mathbf{b}_z - \mathbf{a}_z\mathbf{b}_y \\
              \mathbf{a}_z\mathbf{b}_x - \mathbf{a}_x\mathbf{b}_z \\
              \mathbf{a}_x\mathbf{b}_y - \mathbf{a}_y\mathbf{b}_x
                \end{pmatrix}$$
            </div>

            <div class='gi fragment' data-index=7
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-3.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 4 / 8 / 21 / 11;'>
              <img src='assets/img/triangle/triangle-4.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Back-face culling 
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> normal vector determines front side </li>
                <li class='fragment'> (more important for rasterization than for raytracing) </li>
              </ul>
            </div>
            <div class='gi fragment' style='grid-area: 7 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/triangle/hit0.png'>
            </div>
            <div class='gi fragment' style='grid-area: 7 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/triangle/hit1.png'>
            </div>
            <div class='gi fragment' style='grid-area: 7 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/triangle/hit2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Back-face culling 
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> normal vector determines front side </li>
                <li> (more important for rasterization than for raytracing) </li>
                <li class='fragment'> scalar product<br><br>
                  $$\begin{pmatrix}\mathbf{a}_x \\ 
                                   \mathbf{a}_y \\
                                   \mathbf{a}_z\end{pmatrix} \cdot
                    \begin{pmatrix}\mathbf{b}_x \\ 
                                   \mathbf{b}_y \\ 
                                   \mathbf{b}_z \end{pmatrix} =
                    \mathbf{a}_x\mathbf{b}_x +
                    \mathbf{a}_y\mathbf{b}_y +
                    \mathbf{a}_z\mathbf{b}_z $$ 
                </li><br>
                <li class='fragment'> ray "sees" triangle <i>if and only if</i><br><br>
                     $$\mathbf{n}\cdot\mathbf{R} &lt; 0$$ </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Implementation
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> abstract <code>Object</code> class for traceable objects </li>
                <li class='fragment'> an <code>Object</code> does its own intersection test </li>
                <li class='fragment'> depth test (only render the nearest object) </li>
                <li class='fragment'> objects have a color </li>
                <li class='fragment'> ray does not hit any object? → we already have that! </li>
                <li class='fragment'> all scene objects → <code>std::vector&lt;Object*&gt;</code> </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Object class, triangles</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-1b.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-2.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #2 Triangles
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> CCW vertices </li>
                <li> $\mathbf{n} := \mathbf{v}\times\mathbf{u}$ &nbsp;and&nbsp; $\mathbf{n}\cdot\mathbf{R} &lt; 0$ </li>
                <li> depth test (smaller depth → object closer) </li>
                <li> only positive depths! </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 3 — Ray<i>tracing</i>
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ray reflection
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> monochromatic objects are boring </li>
                <li class='fragment'> <i>reflections</i> are <u>the</u> strong point of raytracing </li>
                <li class='fragment'> problem: given object and incoming ray, find the outgoing ray</li>
                <li class='fragment'> easy solution via geometric construction</li>
              </ul>
            </div>

            <div class='gi fragment' data-index=3
                 style='grid-area: 9 / 1 / 20 / 11; text-align: center;'>
              <img src='assets/img/normal-reflection/7.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/0.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/1.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/2.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/3.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/4.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/5.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/6.png'>
            </div>
            <div class='gi fragment' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/7.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ray reflection
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> important vector:&nbsp; $\mathbf{n}\cdot\left(\mathbf{n}\cdot\left(-\mathbf{R}\right)\right)$ </li>
                <li class='fragment'> $\mathbf{n}\cdot\left(-\mathbf{R}\right)$&nbsp; is the length of the projection of &nbsp;$\mathbf{-R}$&nbsp; onto &nbsp;$\mathbf{n}$ </li>
                <li class='fragment'> scalar product &nbsp;$\mathbf{n}\cdot\left(-\mathbf{R}\right)$&nbsp; is a scalar (not a vector!) </li>
                <li class='fragment'> we need a vector in direction of &nbsp;$\mathbf{n}$ </li>
                <li class='fragment'> → scalar multiplikation ith &nbsp;$\mathbf{n}$&nbsp; =&nbsp; scaling of &nbsp;$\mathbf{n}$ </li>
              </ul>
            </div>

            <div class='gi' style='grid-area: 9 / 1 / 20 / 11; 
                                   text-align: center;'>
              <img src='assets/img/normal-reflection/3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Implementation
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <img src='assets/img/mirror-triangles-render.png'>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Ray reflection</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-2.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-3.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #3 Raytracing
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> "CCW" depends on viewing angle </li>
                <li> Back-face culling </li>
                <li> triangles' tops leaning towards camera </li>
                <li> <code>max_hit_bounces</code> limits visibility </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 4 — Light transport
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #4 Light transport
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Reflection and object color
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> perfect mirrors are boring </li>
                <li class='fragment'> materials have different reflectivities </li>
              </ul>
            </div>

            <div class='gi fragment' style='grid-area: 7 / 1 / 19 / 11; 
                                   text-align: center;'>
              <img src='assets/img/spheres-materials.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #4 Light transport
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Mixing colors
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> our materials have a <i>reflectivity</i> </li>
                <li class='fragment'> a ray sees many colors on its journey </li>
                <li class='fragment'> the final pixel color is a mixture </li>
                <li class='fragment'> (preliminary formulation, no lighting) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #4 Light transport
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Mixing colors</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #4 Light transport
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-3.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-4.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <!--<section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #4 Light transport
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Bla </li>
              </ul>
            </div>

          </div>
        </section>-->


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 5 — Spheres
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Parametrized shapes
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> polygons allow for arbitrary geometry </li>
              </ul>
            </div>
            <div class='gi fragment' style='grid-area: 7 / 1 / 19 / 11; 
                                   text-align: center;'>
              <img src='assets/img/dragon/dragon_closeup.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Parametrized shapes
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> polygons allow for arbitrary geometry </li>
                <li> but complexity needs many polygons </li>
              </ul>
            </div>
            <div class='gi' style='grid-area: 7 / 1 / 19 / 11; 
                                   text-align: center;'>
              <img src='assets/img/dragon/dragon_wireframe.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Parametrized shapes
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> polygons allow for arbitrary geometry </li>
                <li> but complexity needs many polygons </li>
                <li> ...maaaany polygons. (Stanford dragon: 200.000 triangles) </li>
              </ul>
            </div>
            <div class='gi' style='grid-area: 7 / 1 / 19 / 11; 
                                   text-align: center;'>
              <img src='assets/img/dragon/dragon_wireframe_close.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Parametrized shapes
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> real renderers use hierarchical structures </li>
                <li class='fragment'> still: more geometry → longer render times</li>
                <li class='fragment'> idea: some shapes can be <i>computed</i> </li>
              </ul>
            </div>
            <div class='gi fragment' style='grid-area: 7 / 1 / 19 / 11; 
                                   text-align: center;'>
              <img src='assets/img/spheres-materials.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Intersection test
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> edge case: ray "grazes" sphere </li>
                <li class='fragment'> $\mathbf{p} = $ &nbsp;sphere center $-$ camera center;&nbsp; $r = $ &nbsp;radius </li>
                <li class='fragment'> distance to hit point&nbsp; $ = \sqrt{\left(\mathbf{p}\cdot\mathbf{p}\right) + r^2} = \sqrt{||\mathbf{p}||^2 + r^2}$ </li>
                <li class='fragment'> $ = \mathbf{p} $ $ \cdot$ ray direction </li>
                <li class='fragment'> (ray has length 1) </li>
                <li class='fragment'> hit → <i>longer</i> </li>
                <li class='fragment'> no hit → <i>shorter</i> </li>
                <li class='fragment'> → intersection test → \Ü/ </li>
              </ul>
            </div>
            <div class='gi' 
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere0.png'>
            </div>
            <div class='gi fragment current-visible' data-index=3
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere1.png'>
            </div>
            <div class='gi fragment current-visible' data-index=4
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere2.png'>
            </div>
            <div class='gi fragment current-visible' data-index=5
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere3.png'>
            </div>
            <div class='gi fragment current-visible' data-index=5
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere4.png'>
            </div>
            <div class='gi fragment' data-index=6
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere4a.png'>
            </div>
            <div class='gi fragment current-visible' data-index=10
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere6.png'>
            </div>
            <div class='gi fragment' data-index=11
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere5.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere4b.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Sphere intersection test</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-4.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-5a.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> $\mathbf{p}$ points from <i>sphere</i> center to <i>camera</i> center </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Distance computation
            </span></h2>

            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere1.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere7.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere8.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere9.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere10.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere11.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere12.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere13.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere14.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere15.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere16.png'>
            </div>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> $\mathbf{p} = $ &nbsp;sphere center $-$ camera center;&nbsp; $r = $ &nbsp;radius </li>
                <li class='fragment'> $b = \mathbf{p}$ $\cdot$ ray direction </li>
                <li class='fragment'> $s = \sqrt{\left(\mathbf{p}\cdot\mathbf{p}\right) - b^2}$ </li>
                <li class='fragment'> $t = \sqrt{r^2 - s^2}$ </li>
                <li class='fragment'> $d = b - t$ </li>
                <li class='fragment'> → distance → \Ü/ </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Normal vectors
            </span></h2>

            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere9.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere17.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 8 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/sphere/sphere18.png'>
            </div>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> $\mathbf{p} = $ &nbsp;sphere center $-$ camera center;&nbsp; $r = $ &nbsp;radius </li>
                <li class='fragment'> normal vector&nbsp; $= -\mathbf{p} + d$ $\cdot$ ray direction </li>
                <li class='fragment'> (scale normal vector to length 1!) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Distance, normal vector</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-5a.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-5.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #5 Spheres
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> $\mathbf{p}$ points from <i>sphere</i> center to <i>camera</i> center </li>
                <li> $\mathbf{b}$ has negative length </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 6 — Light
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Phong illumination model
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> perfect colors are boring </li>
                <li class='fragment'> light generates shadows, reflections, shading... </li>
                <li class='fragment'> "real" light simulation is infeasible </li>
                <li class='fragment'> we use the <i>Phong</i> model (or something similar) </li>
                <li class='fragment'> (not physically correct, but easy) </li>
                <li class='fragment'> materials have coefficients per component </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td class='fragment' width="25%" data-index=7>
                    <img src='assets/img/phong/phong-0-ambient.png'/>
                  </td>
                  <td class='fragment' width="25%" data-index=8>
                    <img src='assets/img/phong/phong-1-diffuse.png'/>
                  </td>
                  <td class='fragment' width="25%" data-index=9>
                    <img src='assets/img/phong/phong-2-specular.png'/>
                  </td>
                  <td class='fragment' width="25%" data-index=10>
                    <img src='assets/img/phong/phong-3-combined.png'/>
                  </td>
                </tr>
                <tr>
                  <td class='fragment' data-index=7> ambient </td>
                  <td class='fragment' data-index=8> + diffuse </td>
                  <td class='fragment' data-index=9> + specular </td>
                  <td class='fragment' data-index=10> = Phong </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ambient light
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> constant light everywhere in the scene </li>
                <li class='fragment'> independent of light sources </li>
                <li class='fragment'> cheap imitation of global illumination </li>
                <li class='fragment'> constant factor&nbsp; $k_\text{ambient}$, here: independent of material </li>
                <li class='fragment'> ($C_\text{material}$: material color)
                $$I_\text{ambient} = k_\text{ambient} \cdot C_\text{material}$$ </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="25%" style='background-color: #ff0;'>
                    <img src='assets/img/phong/phong-0-ambient.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-1-diffuse.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-2-specular.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-3-combined.png'/>
                  </td>
                </tr>
                <tr>
                  <td style='background-color: #ff0;'> ambient </td>
                  <td> + diffuse </td>
                  <td> + specular </td>
                  <td> = Phong </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Diffuse light
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> depends on direction "surface → light source" </li>
                <li class='fragment'> → local normal vector </li>
                <li class='fragment'> maximum: surface perpendicular to light → object color </li>
                <li class='fragment'> minimum: surface parallel to light → black/nothing </li>
                <li class='fragment'> perfect "Lambertian" material
                $$I_\text{diffuse} = f_\text{diffuse} \cdot k_\text{diffuse,material} \cdot C_\text{material}$$ </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="25%">
                    <img src='assets/img/phong/phong-0-ambient.png'/>
                  </td>
                  <td width="25%" style='background-color: #ff0;'>
                    <img src='assets/img/phong/phong-1-diffuse.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-2-specular.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-3-combined.png'/>
                  </td>
                </tr>
                <tr>
                  <td> ambient </td>
                  <td style='background-color: #ff0;'> + diffuse </td>
                  <td> + specular </td>
                  <td> = Phong </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Diffuse light
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> illumination factor depends on surface orientation </li>
                <li class='fragment'> $\mathbf{L} := $ surface → light source 
                      $$f_\text{diffuse} = \mathbf{n} \cdot \mathbf{L}$$ </li>
                <li class='fragment'> never $\leq 0$ ! </li>
                <li class='fragment'> (points that "look away" from the light are not lit) </li>
                <li class='fragment'> → <u>no</u> dependency on viewing direction! </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 19 / 6; text-align: center;'>
              <img src='assets/img/phong/phong-1-diffuse.png'/>
            </div>
            <div class='gi fragment current-visible' data-index=2
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse0.png'>
            </div>
            <div class='gi fragment current-visible' data-index=3
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse1.png'>
            </div>
            <div class='gi fragment current-visible' data-index=4
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse2.png'>
            </div>
            <div class='gi fragment current-visible' data-index=5
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse3.png'>
            </div>
            <div class='gi fragment' data-index=6
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse4.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse5.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse6.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse7.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Specular light
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> depends on directions surface → light source <br> 
                      and camera → surface </li>
                <li class='fragment'> "size" of highlight can be individual </li>
                <li class='fragment'> → "hardness"/"shininess" </li>
                <li class='fragment'> light color instead of material color 
                $$I_\text{specular} =  f_\text{specular} \cdot k_\text{specular,material} \cdot C_\text{light}$$ </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="25%">
                    <img src='assets/img/phong/phong-0-ambient.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-1-diffuse.png'/>
                  </td>
                  <td width="25%" style='background-color: #ff0;'>
                    <img src='assets/img/phong/phong-2-specular.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-3-combined.png'/>
                  </td>
                </tr>
                <tr>
                  <td> ambient </td>
                  <td> + diffuse </td>
                  <td style='background-color: #ff0;'> + specular </td>
                  <td> = Phong </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Specular light
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> highlight = light source reflection on surface </li>
                <li class='fragment'> maximum = "surface → light = reflected ray" </li>
                <li class='fragment'> "harder"/"shinier" material → highlight more focused <br><br>
                $$f_\text{specular} = \left(\mathbf{L}\cdot\mathbf{R}\right)^\text{hardness}$$ </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 19 / 6; text-align: center;'>
              <img src='assets/img/phong/phong-2-specular-hard25.png'/>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 1 / 19 / 6; text-align: center;'>
              <img src='assets/img/phong/phong-2-specular.png'/>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 1 / 19 / 6; text-align: center;'>
              <img src='assets/img/phong/phong-2-specular-hard100.png'/>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse5.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse6.png'>
            </div>
            <div class='gi fragment current-visible'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/diffuse/diffuse7.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Full lighting
            </span></h2>

            <div class='gi gi-all'>
              <span class='fragment'> $$ I = I_\text{ambient} + I_\text{diffuse} + I_\text{specular} $$ </span>
              <span class='fragment'> $$ I = \left( k_\text{ambient} + f_\text{diffuse} \right) \cdot k_\text{diffuse,material} \cdot C_\text{material} + \\
                f_\text{specular} \cdot k_\text{specular,material} \cdot C_\text{light} $$ </span>
              <span class='fragment'> $$ I = \left( k_\text{ambient} + \mathbf{n}\cdot\mathbf{L} \right) \cdot k_\text{diffuse,material} \cdot C_\text{material} + \\
                \left( \mathbf{L}\cdot\mathbf{R} \right)^\text{hardness} \cdot k_\text{specular,material} \cdot C_\text{light} $$ </span>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="25%">
                    <img src='assets/img/phong/phong-0-ambient.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-1-diffuse.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-2-specular.png'/>
                  </td>
                  <td width="25%">
                    <img src='assets/img/phong/phong-3-combined.png'/>
                  </td>
                </tr>
                <tr>
                  <td> ambient </td>
                  <td> + diffuse </td>
                  <td> + specular </td>
                  <td> = Phong </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Illumination</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-5.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-6a.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #6 Light
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> $\mathbf{L}$: surface → light </li>
                <li> $\mathbf{R}$: surface → ... </li>
                <li> $\mathbf{n}$: surface → ... </li>
                <li> $0 \leq f_\text{diffuse}, f_\text{specular} \leq 1$ </li>
                <li> → unit length </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 7 — Shadows
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #7 Shadows
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Shadows
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> we have <i>shading</i> but no <i>shadows</i> </li>
                <li class='fragment'> what is in shadow? </li>
                  <ul>
                    <li class='fragment'> what is not in the light </li>
                    <li class='fragment'> = points which do not "see" the light </li>
                    <li class='fragment'> = points with an object between them and the light </li>
                    <li class='fragment'> → Raytracing + intersection tests! </li>
                  </ul>
                <li class='fragment'> → we have all of that! \Ü/ </li>
                <li class='fragment'> even in shadow: <br> 
                     ambient light! </li>
              </ul>
            </div>
            <div class='gi fragment' data-index=6
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow0.png'>
            </div>
            <div class='gi fragment' data-index=7
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow1.png'>
            </div>
            <div class='gi fragment' data-index=8
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow2.png'>
            </div>
            <div class='gi fragment' data-index=9
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow3.png'>
            </div>
            <div class='gi fragment' data-index=10
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow4.png'>
            </div>
            <div class='gi fragment' data-index=11
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/shadow/shadow5.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #7 Shadows
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Shadows</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #7 Shadows
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-6a.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-6.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #7 Shadows
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> (cf. #6 Light) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 8 — Random stuff
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>

            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> anti-aliasing </li>
                <li class='fragment'> matte surfaces </li>
                <li class='fragment'> soft shadows </li>
                <li class='fragment'> depth of field </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Aliasing
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> sensor grid: resolution&nbsp; $X$ </li>
                <li class='fragment'> real world: resolution&nbsp; $\infty$ </li>
                <li class='fragment'> imaging = discretization </li>
                <li class='fragment'> one ray = one measurement </li>
                <li class='fragment'> single ray → aliasing </li>
              </ul>
            </div>
            <div class='gi gi-right fragment' data-index=2>
              <img src='assets/img/antialiasing/aa0.png'>
            </div>
            <div class='gi gi-right fragment' data-index=4>
              <img src='assets/img/antialiasing/aa1.png'>
            </div>
            <div class='gi gi-right fragment' data-index=7>
              <img src='assets/img/antialiasing/aa2.png'>
            </div>
            <div class='gi gi-right fragment' data-index=9>
              <img src='assets/img/antialiasing/aa3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Anti-aliasing
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> one ray = one measurement </li>
                <li class='fragment'> → multiple measurements </li>
                <li class='fragment'> → average </li>
              </ul>
            </div>
            <div class='gi gi-right'>
              <img src='assets/img/antialiasing/aa2.png'>
            </div>
            <div class='gi gi-right fragment' data-index=3>
              <img src='assets/img/antialiasing/aa4.png'>
            </div>
            <div class='gi gi-right fragment' data-index=5>
              <img src='assets/img/antialiasing/aa6.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Anti-aliasing </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all fragment current-visible'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-6.png'>
              </div>
            </div>
            <div class='gi gi-all fragment current-visible'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7a.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>
            <div class='gi gi-all fragment current-visible'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='550px' src='assets/img/levels/level-6-crop.png'>
                <img width='550px' src='assets/img/levels/level-7a-crop.png'><br><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> random offset&nbsp; $\in [-0.5, 0.5]^2$ </li>
                <li> (one of the limits <i>should</i> really be excluded) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Surface structure
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> up to now: </li>
              </ul>
            </div>
            <div class='gi'
                 style='grid-area: 3 / 2 / 21 / 8'>
              <div style='width: 100%; text-align: center;'>
                <img class='fragment' height='320px' data-index=1
                     src='assets/img/rough/surface-1-mirror.png'/><br>
                  <span class='fragment' data-index=1> perfect reflection </span>
                <img class='fragment' height='320px'  data-index=3
                     src='assets/img/rough/surface-0-absorbing.png'/><br>
                  <span class='fragment' data-index=3> no reflection </span>
              </div>
            </div>
            <div class='gi'
                 style='grid-area: 3 / 8 / 21 / 11'>
              <div style='width: 100%; text-align: center;'>
                <img class='fragment' height='320px'  data-index=2
                     src='assets/img/levels/level-7a-crop-mirrorsphere.png'/><br>
                <span class='fragment' data-index=2> mirroring </span><br>
                <img class='fragment' height='320px'  data-index=4
                     src='assets/img/levels/level-7a-crop-floor.png'/><br>
                <span class='fragment' data-index=4> absorbing </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              matte surfaces
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> <i>matte</i> objects are like "bad mirrors" </li>
                <li class='fragment'> (example: polished vs. sandblasted metal) </li>
                <li class='fragment'> matte surfaces are <i>rough</i> surfaces </li>
                <li class='fragment'> rough surfaces' normals are random </li>
                <li class='fragment'> grade of randomness = roughness </li>
                <li class='fragment'> simulation: take perfect reflection and add random offset vector </li>
              </ul>
            </div>

            <div class='gi fragment' data-index=4
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-0-absorbing.png'>
            </div>
            <div class='gi fragment' data-index=5
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-0.png'>
            </div>
            <div class='gi fragment' data-index=7
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-1.png'>
            </div>
            <div class='gi fragment' data-index=8
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-2.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-3.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-4.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-0-2.png'>
            </div>

            <div class='gi fragment' data-index=10
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-1-0.png'>
            </div>
            <div class='gi fragment' data-index=11
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-1-1.png'>
            </div>
            <div class='gi fragment' data-index=12
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/surface-2-rough-1-2.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/surface-3.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Implementation
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> why don't we add to the <i>normal</i> vector? </li>
                  <ul>
                    <li class='fragment'> would be more elegant, but turned out to be harder </li>
                  </ul>
                <li class='fragment'> avoid impossible reflections
                $$\mathbf{n}\cdot\mathbf{R} < 1 \Rightarrow \mathbf{R'} := \mathbf{R} + \mathbf{n}\cdot 2 \cdot\left(\mathbf{n}\cdot-\mathbf{R}\right)$$ </li> 
                <li class='fragment'> (same reflection formula as in "#3 Raytracing") </li>
                <li class='fragment'> after the change: recompute effective normal 
                     $$\mathbf{n'} := \mathbf{R'}-\mathbf{V}$$ </li> 
              </ul>
            </div>

            <div class='gi fragment' data-index=3
                 style='grid-area: 12 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/reflection-flip-0.png'>
            </div>
            <div class='gi fragment' data-index=5
                 style='grid-area: 12 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/rough/reflection-flip-1.png'>
            </div>

            <div class='gi fragment'
                 style='grid-area: 12 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/renormal-0.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 12 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/renormal-1.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 12 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/rough/renormal-2.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> matte surfaces </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7a.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7b.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
              <li> reflection, normal, random offset → unit length  </li>
                <li> $\mathbf{R}\cdot\mathbf{n} \leq 0$ → invalid reflection → flip </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ideas
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> matte surfaces </li>
                  <ul>
                    <li class='fragment'> better models: e.g. <i>microfacets</i> </li>
                    <li class='fragment'> anisotropic roughness: brushed metal (bottoms of cooking pots) </li>
                    <li class='fragment'> <i>normal mapping</i>: change normals according to a special texture </li>
                  </ul>
              </ul>
            </div>

            <div class='gi fragment'
                 style='grid-area: 8 / 1 / 19 / 11; text-align: center;'>
              <img src='assets/img/spheres-materials-anisotropy.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Soft shadows
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> perfect shadows are boring </li>
                <li class='fragment'> where do soft shadows come from?
                  <ul>
                    <li class='fragment'> atmospheric scattering (→ volume tracing...) </li>
                    <li class='fragment'> non-point light sources </li>
                  </ul>
                </li>
                <li class='fragment'> → light with random position </li>
                <li class='fragment'> → we already have that \Ü/ </li>
              </ul>
            </div>

            <div class='gi fragment' data-index=5
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-0.png'>
            </div>
            <div class='gi fragment' data-index=6
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-1.png'>
            </div>
            <div class='gi fragment' data-index=7
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-2.png'>
            </div>
            <div class='gi fragment' data-index=8
                 style='grid-area: 11 / 1 / 20 / 6; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-3.png'>
            </div>

            <div class='gi fragment' data-index=9
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-4.png'>
            </div>
            <div class='gi fragment' data-index=10
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-5.png'>
            </div>
            <div class='gi fragment' data-index=11
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-6.png'>
            </div>
            <div class='gi fragment' data-index=12
                 style='grid-area: 11 / 6 / 20 / 11; text-align: center;'>
              <img src='assets/img/soft-shadows/soft-7.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Soft shadows </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7b.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7c.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> which position dimensions of the light source are randomized? </li>
                <li> noisy shadows? → more samples! </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Depth-of-field
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> up to now: perfect focus (pinhole camera) </li>
                <li class='fragment'> → unrealistic and boring </li>
                <li class='fragment'> real cameras: blur by aperture (diaphragm opening) </li>
              </ul>
            </div>

            <div class='gi'
                 style='grid-area: 8 / 1 / 21 / 11; text-align: center;'>
              <div style='width: 100%; text-align: center;'>
                <img class='fragment' height='500px' data-index=2
                     src='assets/img/spheres-materials-focus.png'>
                <img class='fragment' height='500px' data-index=5
                     src='assets/img/spheres-materials-defocus.png'>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Depth-of-field
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> we have neither a lens nor a diaphragm </li>
                <li class='fragment'> → simulation by "sensor shift" </li>
                <li class='fragment'> geometric construction </li>
                <li class='fragment' data-index=14> focal distance &nbsp; $f$, camera shift vector&nbsp; $\mathbf{s}$<br>
                $\Rightarrow$ &nbsp;ray shift vector&nbsp; $= \frac{1}{d}\cdot \left(-\mathbf{s}\right)$ </li>
              </ul>
            </div>

            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-0.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-1.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-2.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-3.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-4.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-5.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-6.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-7.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-7a.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-8.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-9.png'>
            </div>
            <div class='gi fragment'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-10.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Depth-of-field
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> points at distance&nbsp; $d$ &nbsp; (here: $4$) are rendered "sharp" </li>
                <li class='fragment'> (rays from different cam positions → same point) </li>
                <li class='fragment'> closer or farther points are blurry </li>
                <li class='fragment'> (shifted cams's rays hit <i>different</i> points) </li>
                <li class='fragment'> → Depth-of-field </li>
              </ul>
            </div>

            <div class='gi'
                 style='grid-area: 10 / 1 / 21 / 11; text-align: center;'>
              <img height='450px' src='assets/img/defocus/defocus-10.png'>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Depth-of-field </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7c.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7d.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> focal distance&nbsp; $f$, camera shift vector&nbsp; $\mathbf{s}$<br>
                $\Rightarrow$ &nbsp;ray shift vector&nbsp; $= \frac{1}{d}\cdot \left(-\mathbf{s}\right)$ </li>
                <li> cam shift along sensor axes (here: X, Y) </li>
                <li> ray normalization after shift-addition </li>
                <li> (ray must <i>always</i> have unit length!) </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #8 Random stuff
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ideas
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> anti-aliasing </li>
                <li> matte surfacesen </li>
                <li> soft shadows </li>
                <li> depth of field </li>
                <li class='fragment'> more:
                  <ul>
                    <li class='fragment'> motion blur </li> 
                    <li class='fragment'> → randomized object or cam position </li> 
                    <li class='fragment'> zoom blur </li> 
                    <li class='fragment'> → random&nbsp; <code>RIGHT</code>/<code>UP</code> vectors </li> 
                    <li class='fragment'> cheap object transparency </li> 
                    <li class='fragment'> → randomized hit test </li> 
                    <li class='fragment'> aperture shapes ("bokeh") </li> 
                    <li class='fragment'> tilt-shift! ("Scheimpflug principle") </li>
                  </ul>
                </li>
              </ul>
            </div>

            <div class='gi fragment'
                 style='grid-area: 7 / 8 / 21 / 11; text-align: center;'>
                 <img src='assets/img/external/bokeh__studio_incendo__flickr.jpg'/><br>
                 <span><small>© Studio Incanto via Flickr</small></span>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level 9 — Textures
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Concept
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> monochrome objects are boring </li>
                <li class='fragment'> so are procedural textures (checkerboard) </li>
                <li class='fragment'> → <i>textures</i> </li>
                  <ul>
                    <li class='fragment'> like "wallpapers", "gift wrap" </li>
                    <li class='fragment'> image → object color </li>
                    <li class='fragment'> which image pixel → which 3D point? </li>
                    <li class='fragment'> → we need a <i>mapping</i> </li>
                  </ul>
              </ul>
            </div>

            <div class='gi' style='grid-area: 3 / 8 / 21 / 11;'>
              <div style='width: 100%; text-align: center;'>
                <img class='fragment' data-index=2 
                     src='assets/img/textures/tex-0.png'/><br>
                <img class='fragment' data-index=6
                     src='assets/img/textures/tex-1.png'/><br>
              </div>
            </div>
            <div class='gi fragment' style='grid-area: 12 / 5 / 21 / 8;' data-index=5>
              <div style='width: 100%; text-align: center;'>
                <img src='assets/img/textures/texture.png'/><br>
                image texture
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Texture
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <br>
              <br>
              <br> 
              <br>
              <br>
              (<code>texture.ppm</code> found in this repository)
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Reading PPM images
            </span></h2>

            <div class='gi gi-all'>
              <code class='fragment'>$ vim texture.ppm</code>
              <pre class='language-cpp fragment'><code class='language-cpp'>P6
600 400
255
f± jÕËyÙÕ<99>äßI<93><8e> [...]</code></pre>
              
              <ul>
                <li class='fragment'> <code>P6</code> binary PPM (1 byte per color channel, 3 bytes per pixel) </li>
                <li class='fragment'> <code>600 400</code> → resolution 600x400 </li>
                <li class='fragment'> header size: "<code>P6 600 400 255 </code>" → <b>15</b> bytes </li>
                <li class='fragment'> data size: 600 · 400 · 3 = 720000 bytes </li>
                <li class='fragment'> expected file size: 15 + 720000 = 720015 bytes </li>
                <li class='fragment'> <code>$ du -b texture.ppm</code>: <b>720016</b> bytes! </li>
                <li class='fragment'> difference? </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Intermezzo: reading binary files
            </span></h2>

            <div class='gi gi-all'>
              <code class='fragment'>$ xxd texture.ppm | head -n3</code>
              <pre class='language-cpp fragment'><code class='language-cpp' style='font-size: 28px;'>0000000: 5036 0a36 3030 2034 3030 0a32 3535 0a66  P6.600 400.255.f
0000010: b1a0 6ad5 cb79 d9d5 99e4 df49 938e 75d7  ..j..y.....I..u.
0000020: d36d d2cc 85db d697 e2dd 6dd4 cc55 c9bf  .m........m..U..</code></pre>
              
              <ul>
                <li class='fragment'> <code>0a</code> is a newline </li>
                <li class='fragment'> <code>20</code> is a whitespace </li>
              </ul>
              <br>
              <br>

              <code class='fragment'>$ xxd texture.ppm | tail -n3</code>
              <pre class='language-cpp fragment'><code class='language-cpp' style='font-size: 28px;'>00afc60: bfad 20cc bb11 b1a0 03b3 9d02 a991 0452  .. ............R
00afc70: 430a 0a09 212e 2818 9c88 16af a241 cac2  C...!.(......A..
00afc80: 3cd3 cb33 d3cd 3fd5 d016 d1ca 30d4 ce0a  <..3..?.....0...</code></pre>
              
              <ul>
                <li class='fragment'> extra newline at the end... </li>
                <li class='fragment'> → can be ignored \Ü/ </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Reading PPM images
            </span></h2>

            <div class='gi gi-all'>
              in <code>get_ground_color(..)</code>:
              <pre class='language-cpp'><code class='language-cpp' style='font-size: 30px;'>static unsigned char* texture_data{nullptr};
const int tex_w{600};
const int tex_h{400};
if (not texture_data) {
  std::ifstream texture("texture.ppm");
  texture_data = new unsigned char[tex_w*tex_h*3];
  texture.read(reinterpret_cast<char*>(texture_data), 15);  /* dummy read */
  texture.read(reinterpret_cast<char*>(texture_data), tex_w*tex_h*3);
}</code></pre>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Ground texture </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-7d.png'>
              </div>
            </div>
            <div class='gi gi-all fragment'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-8.png'><br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Texturen
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> ground coordinates in the XZ plane </li>
                <li> X = right, Z = "forwards"</li>
                <li> scale up (X,Z) for image pixel coordinates </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #9 Textures
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Ideas
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> texture for: </li>
                  <ul>
                    <li> color &checkmark; </li>
                    <li> normal direction </li>
                    <li> $k_\text{diffuse,material}$, $k_\text{specular,material}$ </li>
                    <li> roughness </li>
                    <li> transparency </li>
                  </ul>
              </ul>
            </div>

            <div class='gi'
                 style='grid-area: 3 / 8 / 11 / 11; text-align: center;'>
              <img src='assets/img/external/texture-haven/render.jpg'/><br>
              <small>texturehaven.com</small>
            </div>
            <div class='gi'
                 style='grid-area: 11 / 1 / 20 / 11; text-align: center;'>
              <table width="100%" style="margin-top: 20px;">
                <tr>
                  <td width="25%">
                    <img src='assets/img/external/texture-haven/diffuse.jpg'/><br>
                  </td>
                  <td width="25%">
                    <img src='assets/img/external/texture-haven/specular.jpg'/><br>
                  </td>
                  <td width="25%">
                    <img src='assets/img/external/texture-haven/normal.jpg'/><br>
                  </td>
                  <td width="25%">
                    <img src='assets/img/external/texture-haven/rough.jpg'/><br>
                  </td>
                </tr>
                <tr>
                  <td> diffuse color </td>
                  <td> specularity </td>
                  <td> normal </td>
                  <td> roughness </td>
                </tr>
              </table>
            </div>

          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              BONUS LEVEL UNLOCKED
            </span></h1>
          </div>
        </section>


        <section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level &Omega; — Rotation matrices
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Wait, what?
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li class='fragment'> up to now we can only <i>shift</i> objects </li>
                <li class='fragment'> rotations are harder </li>
                <li class='fragment'> 2D example:</li>
                <br>
                <li class='fragment'> vector &nbsp;$(x,y)$ </li>
                <li class='fragment'> unit length </li>
                <li class='fragment'> rotation by angle &nbsp;$\alpha$ </li>
              </ul>
            </div>

            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-0.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-1.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-2.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-3.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-4.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-5.png'/>
            </div>
            <div class='gi fragment current-visible' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-6.png'/>
            </div>
            <div class='gi fragment' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-7.png'/>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Rotation in 2D
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> basis vectors:
                $$ \begin{pmatrix} 1 \\ 0 \end{pmatrix} \rightarrow 
                \begin{pmatrix} \text{cos}(\alpha) \\ -\text{sin}(\alpha) \end{pmatrix}, 
                \begin{pmatrix} 0 \\ 1 \end{pmatrix} \rightarrow 
                \begin{pmatrix} \text{sin}(\alpha) \\ \text{cos}(\alpha) \end{pmatrix} $$
                </li>
              </ul>
            </div>

            <div class='gi' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-7.png'/>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Rotation in 2D
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> rotation:
                $$\begin{pmatrix} x'\\y' \end{pmatrix} = 
                  \begin{pmatrix} \text{cos}(\alpha) & -\text{sin}(\alpha) \\
                                  \text{sin}(\alpha) &  \text{cos}(\alpha) \end{pmatrix} \cdot
                  \begin{pmatrix} x\\y \end{pmatrix}$$
                </li>
              </ul>
            </div>

            <div class='gi' 
                 style='grid-area: 7 / 5 / 20 / 11; text-align: center;'>
              <img src='assets/img/rotation/rot-7.png'/>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Rotation in 3D
            </span></h2>
            <div class='gi gi-all'>
              <ul>
                <li> in 3D: rotation around Z-axis:<br><br>
                $$\begin{pmatrix} x'\\y'\\z' \end{pmatrix} = 
                  \begin{pmatrix} \text{cos}(\alpha) & -\text{sin}(\alpha) & 0 \\
                                  \text{sin}(\alpha) &  \text{cos}(\alpha) & 0 \\
                                  0 & 0 & 1 \end{pmatrix} \cdot
                  \begin{pmatrix} x\\y\\z \end{pmatrix}$$<br>
                </li>
                <li> X, Y (signs follow from our world coordinate system):<br><br>
                $$\begin{pmatrix} 1 & 0 & 0 \\
                                  0 & \text{cos}(\alpha) & -\text{sin}(\alpha) \\
                                  0 & \text{sin}(\alpha) &  \text{cos}(\alpha) \end{pmatrix},
                  \begin{pmatrix} \text{cos}(\alpha) & 0 & \text{sin}(\alpha) \\
                                  0 & 1 & 0 \\
                                  -\text{sin}(\alpha) & 0 & \text{cos}(\alpha) \end{pmatrix}$$
                </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hack time
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'> Rotation matrices </span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <video data-autoplay loop controls style='width: 50%;'>
                  <source src='assets/video/final.ogv' type='video/ogg'>
                </video>
                <br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              #&Omega; Rotation matrices
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> order of rotation Z-Y-X == matrices X·Y·Z·point </li>
                <li> Euler angles → <i>Gimbal lock</i> in critical configurations </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <div class='gi' style='grid-area: 1 / 1 / 21 / 11;'>
              <table>
                <tr>
                  <td>
                    <img width='300px' src='assets/img/levels/level-0.png'/>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-1b.png'/>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-2.png'/>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-3.png'/>
                  </td>
                </tr>
                <tr>
                  <td>
                    <img width='300px' src='assets/img/levels/level-4.png'/>
                  </td>
                  <td>
                  </td>
                  <td>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-5.png'/>
                  </td>
                </tr>
                <tr>
                  <td>
                    <img width='300px' src='assets/img/levels/level-6.png'/>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-7d.png'/>
                  </td>
                  <td>
                    <img width='300px' src='assets/img/levels/level-8.png'/>
                  </td>
                  <td>
                    <div style='width: 300px;'>
                      <video data-autoplay loop controls style='width: 100%; padding-bottom: 6px;'>
                        <source src='assets/video/final.ogv' type='video/ogg'>
                      </video>
                    </div>
                  </td>
                </tr>
              </table>
            </div>

            <div class='gi'
                 style='grid-area: 9 / 1 / 20 / 11; text-align: center;'>
              <h1 class='multilineheader'><span class='ml-highlight'>
                That's it!
              </span></h1>
            </div>
          </div>
        </section>


        <section>
          <h2 class='multilineheader'><span class='ml-highlight'>
            More ideas
          </span></h2>
          <ul>
            <li class='fragment'> chromatic aberration </li>
            <li class='fragment'> non-pinhole cameras (z.B. fisheye) </li>
            <li class='fragment'> recursive raytracing </li>
            <li class='fragment'> Fresnel effect </li>
            <li class='fragment'> glass material (refraction) </li>
            <li class='fragment'> wireframe material </li>
            <li class='fragment'> multiple light sources </li>
            <li class='fragment'> other illumination models (Blinn-Phong, Cook-Torrance) </li>
            <li class='fragment'> HDRI illumination </li>
            <li class='fragment'> more implicit forms (torus (="donut")) </li>
          </ul>
        </section>


        <section>
          <h2 class='multilineheader'><span class='ml-highlight'>
            Image sources
          </span></h2>
          <ul>
            <!--<li> Super Mario Bros: Nintendo </li>
            <li> God of War: Santa Monica Studius, Sony Entertainment </li>-->
            <li> RGB cube: SharkD (Wikimedia) </li>
            <li> metal texture: Texture Haven </li>
            <li> wood texture: Maarten Deckers (Unsplash) </li>
          </ul>
        </section>



        <!-- Slide templates -->



        <!--<section>
          <div style="width: 100%; text-align: center;">
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <h1 class='multilineheader'><span class='ml-highlight'>
              Level X — Bla
            </span></h1>
          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Bla
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Bla
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Bla </li>
              </ul>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Bla
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Hackzeit
            </span></h2>

            <div class='gi gi-all'>
              <div style='width: 100%; text-align: center;'>
                <br>
                <br>
                <br>
                <br>
                <br>
                <span style='font-size: 72px;'>Bla</span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Bla
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Result
            </span></h2>

            <div class='gi gi-all'>
              <br>
              <div style='width: 100%; text-align: center;'>
                <img width='650px' src='assets/img/levels/level-0.png'>
                <br>
                <span class='yay' style='font-size: 72px;'></span>
              </div>
            </div>

          </div>
        </section>


        <section>
          <div class='slide-grid-container'>
            <h2 class='multilineheader ml-l'><span>
              Bla
            </span></h2>
            <h2 class='multilineheader ml-r'><span>
              Debugging
            </span></h2>

            <div class='gi gi-all'>
              <ul>
                <li> Bla </li>
              </ul>
            </div>

          </div>
        </section>-->







      </div>

    </div>

    <!--<script src='lib/js/head.min.js'></script>-->
    <script src='js/reveal.js'></script>

    <!-- Prism.js code highlighter -->
    <script type='text/javascript' src='js/prism.js'></script>

    <script type='text/javascript' src='js/head.min.js'></script>

    <script type='text/javascript' src='js/jquery.min.js'></script>

    <script>
      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        width: 1280,
        height: 1024,

        controls: false,
        progress: false,
        history: true,
        center: false,
        slideNumber: true,
        overview: true,
        fragments: true,
        transition: 'slide', // none/fade/slide/convex/concave/zoom
        transitionSpeed: 'mine',

        math: {
          mathjax: 'js/MathJax/MathJax.js',
          config: 'TeX-AMS-MML_HTMLorMML',
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'plugin/math/math.js' }
        ],
      });


      /**
        Thanks to AlexandreDecan for this code
        (https://github.com/hakimel/reveal.js/issues/1793)
        */
      // Automatic fragment numbering
      var fragmentNumbering = function ( event ) {
        var fragments = $(event.currentSlide).find('.fragment');
        var order = new Array(fragments.length);
        
        $(fragments).filter('[data-index]').each( function () { 
          var index = parseInt($(this).attr('data-index')) - 1;
          if (index < 0 || index >= order.length) {
            alert('Invalid data-index: ' + index);
            return;
          }
          if (typeof order[index] == 'undefined') {
            order[index] = [ $(this) ];
          } else {
            order[index].push($(this));
          }
        });
        
        var index = 0;
        $(fragments).not('[data-index]').each( function () {
          while(typeof order[index] != 'undefined') {
            index = index + 1;
          }
          order[index] = [ $(this) ];
        });
        
        $(order).each( function (index) {
          $(this).each( function () { 
            $(this).attr('data-fragment-index', index);
          })
        });
      };
      Reveal.addEventListener('ready', fragmentNumbering);
      Reveal.addEventListener('slidechanged', fragmentNumbering);
    </script>

  </body>
</html>
